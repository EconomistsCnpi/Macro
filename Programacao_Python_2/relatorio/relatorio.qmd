---
title: "Relatório de Reservas Internacionais (BRL/USD)"
author: "Gilearde J Fagundes,CNPI-P(3397), Economista (28226)" 
format: html
jupyter: python3
---

 API do Banco Central do Brasil e produzir um gráfico com sua evolução recente. :

```{python}
# Importar bibliotecas
from bcb import sgs
import pandas as pd
import plotnine as p9
```

## Dados

Em seguida é necessário identificar o código da série temporal desejada no sistema SGS/BCB e utilizar este código para obter os dados com a bibliotecas `python-bcb`:

```{python}
# Coleta de dados
dados = sgs.get(
    codes={"reserva": 13982},
    start=pd.to_datetime('01/01/2014'),
    end=pd.to_datetime('now')  
)
```

Os dados brutos obtidos no SGS/BCB são exibidos abaixo:

```{python}
dados.head()
```

Abaixo criamos uma colunna adicional com a informação do índice da tabela:

```{python}
dados = dados.assign(data = dados.index)
```

## Visualização de Dados

Por fim, pode ser utilizado um pacote de visualização de dados como o `plotnine` para gerar um gráfico de linha com a série das Reservas internacionais sob o conceito de liquidez total.:

```{python}
# Gráfico de linha
chart=p9.ggplot(data = dados) +\
  p9.aes(x = "data", y = "reserva") +\
  p9.geom_line(color = "darkblue", size = 1) +\
  p9.scale_x_date(date_labels = "%Y") +\
  p9.ggtitle("Reservas internacionais") +\
  p9.ylab("BRL/USD") +\
  p9.xlab("") +\
  p9.labs(
    caption = "Nota: Reservas Internacionais| Dados: BCB | Elaboração: Gilearde Jacinto Fagundes"
    ) +\
  p9.theme_light()

```

```{python}
chart
```